- во всех моках заменить Math.sin/cos и тп на константы либо табличные значения
- протестировать табличные значения незамоканными (сравнение с эталонными, можно из .csv)
- график рисуется неточно